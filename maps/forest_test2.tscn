[gd_scene load_steps=11 format=3 uid="uid://dgi10c3k0uj5e"]

[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="1_hco6x"]
[ext_resource type="TileSet" uid="uid://5qspssasjso2" path="res://resources/forest_tileset.tres" id="2_o37rq"]
[ext_resource type="PackedScene" uid="uid://c1nbit1ro6q05" path="res://scenes/enemies/mushroom/mushroom.tscn" id="3_8l680"]
[ext_resource type="PackedScene" uid="uid://dq3voh75yv3ib" path="res://scenes/objects/bouncy_shroom.tscn" id="4_6snln"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_vkv67"]
blend_mode = 1

[sub_resource type="Curve" id="Curve_3rs64"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.501558, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_7hjie"]
curve = SubResource("Curve_3rs64")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_3f14b"]
lifetime_randomness = 0.6
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(672, 504, 1)
angle_max = 360.0
spread = 180.0
initial_velocity_min = 5.0
initial_velocity_max = 50.0
angular_velocity_min = 5.0
angular_velocity_max = 10.0
orbit_velocity_max = 0.02
gravity = Vector3(0, 0, 0)
radial_accel_min = 0.5
radial_accel_max = 3.0
tangential_accel_min = 0.5
tangential_accel_max = 3.0
damping_min = 0.1
damping_max = 2.0
scale_curve = SubResource("CurveTexture_7hjie")
hue_variation_min = -0.68
hue_variation_max = 0.24
turbulence_noise_speed = Vector3(2, 4, 0)
turbulence_noise_speed_random = 0.4
turbulence_influence_max = 0.3
turbulence_initial_displacement_min = 0.1
turbulence_initial_displacement_max = 10.0

[sub_resource type="Gradient" id="Gradient_ar4gl"]
interpolation_mode = 2
offsets = PackedFloat32Array(0, 0.732308)
colors = PackedColorArray(5, 4, 3, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_2dq2h"]
gradient = SubResource("Gradient_ar4gl")
width = 16
height = 16
use_hdr = true
fill = 1
fill_from = Vector2(0.5, 0.5)

[node name="ForestTest" type="Node2D"]

[node name="RoomInstance" parent="." instance=ExtResource("1_hco6x")]

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(0, 512)
tile_set = ExtResource("2_o37rq")
format = 2
layer_0/tile_data = PackedInt32Array(524294, 65536, 2, 524295, 131072, 2, 524296, 131072, 2, 524297, 196608, 2, 327683, 65536, 2, 327684, 131072, 5, 327687, 196608, 2, 655370, 65536, 2, 655371, 131072, 2, 655372, 131072, 2, 655373, 131072, 2, 655374, 196608, 2, 1, 131072, 2, 0, 131072, 4, 196609, 196608, 0, 262145, 196608, 4, 327681, 196608, 4, 393217, 196608, 4, 458753, 196608, 1, 524289, 196608, 4, 589825, 196608, 4, 589824, 131072, 4, 65536, 131072, 4, 131072, 131072, 1, 196608, 131072, 4, 262144, 131072, 1, 327680, 131072, 4, 393216, 131072, 4, 458752, 131072, 1, 524288, 131072, 4, 851968, 131072, 4, 917504, 131072, 1, 983040, 131072, 1, 851969, 196608, 4, 917505, 131072, 1, 983041, 131072, 4, 983042, 131072, 4, 983043, 131072, 1, 983044, 131072, 1, 983046, 131072, 1, 983045, 131072, 4, 983047, 131072, 1, 983048, 131072, 4, 917506, 131072, 0, 917507, 131072, 3, 917508, 131072, 0, 917509, 131072, 0, 917510, 131072, 3, 917512, 131072, 0, 917511, 131072, 3, 917513, 131072, 3, 917514, 131072, 0, 917515, 131072, 0, 917516, 131072, 0, 917517, 131072, 3, 917518, 131072, 3, 917519, 131072, 3, 983055, 131072, 4, 983056, 131072, 1, 983057, 131072, 4, 983058, 131072, 1, 983059, 131072, 4, 983060, 131072, 4, 983061, 131072, 4, 983062, 131072, 4, 983063, 131072, 4, 983064, 131072, 4, 983065, 131072, 4, 983066, 131072, 4, 983067, 131072, 1, 917531, 131072, 4, 917530, 131072, 4, 851995, 196608, 4, 786459, 196608, 4, 720923, 196608, 4, 655387, 196608, 4, 589851, 131072, 4, 131099, 196608, 4, 65563, 196608, 1, 65562, 65536, 0, 131098, 65536, 4, 589850, 65536, 4, 655386, 65536, 1, 720922, 65536, 1, 786458, 65536, 4, 851994, 131072, 4, 917529, 131072, 4, 851993, 65536, 0, 917528, 131072, 0, 458777, 131072, 2, 458776, 131072, 5, 458775, 131072, 5, 458774, 131072, 5, 458773, 131072, 5, 458770, 65536, 2, -65536, 131072, 0, -65535, 131072, 3, 131087, 131072, 3, 196624, 196608, 2, 196623, 131072, 2, 786449, 65536, 2, 786450, 131072, 2, 786451, 131072, 2, 786452, 131072, 2, 786453, 196608, 2, 131088, 196608, 0, 196622, 65536, 2, -1048576, 131072, 1, -983040, 196608, 1, -917504, 196608, 1, -851968, 196608, 1, -786432, 196608, 1, -720896, 196608, 1, -655360, 196608, 1, -524288, 131072, 1, -1048549, 131072, 5, -1048550, 131072, 2, -1048551, 131072, 2, -1048552, 131072, 2, -1048553, 131072, 2, -1048554, 131072, 2, -1048555, 131072, 2, -1048556, 131072, 2, -1048557, 131072, 2, -1048558, 131072, 2, -1048559, 131072, 2, -1048560, 131072, 2, -1048561, 131072, 2, -1048562, 131072, 2, -1048563, 131072, 2, -1048564, 131072, 2, -1048565, 131072, 2, -1048566, 131072, 2, -1048567, 131072, 2, -1048568, 131072, 2, -1048569, 131072, 2, -1048570, 131072, 2, -1048571, 131072, 2, -1048572, 131072, 2, -1048573, 131072, 2, -1048574, 131072, 2, -1048575, 131072, 2, 27, 196608, 1, -65509, 196608, 1, -131045, 131072, 1, -196581, 196608, 1, -262117, 196608, 1, -327653, 196608, 1, -393189, 196608, 0, -65533, 131072, 3, -65534, 131072, 3, -524285, 196608, 2, -524286, 131072, 2, -524287, 131072, 2, -262122, 65536, 2, -262121, 131072, 2, -262120, 131072, 2, -262119, 131072, 2, -262118, 131072, 2, -1048548, 131072, 2, -1048547, 131072, 2, 983078, 131072, 4, 983077, 131072, 4, 983076, 131072, 4, 983075, 131072, 1, 983074, 131072, 1, 983073, 131072, 1, 983072, 131072, 1, 983071, 131072, 1, 983070, 131072, 4, 983069, 131072, 1, 983068, 131072, 4, -1048535, 131072, 4, -1048536, 131072, 2, -1048537, 131072, 2, -1048538, 131072, 2, -1048539, 131072, 2, -1048540, 131072, 2, -1048541, 131072, 2, -1048542, 131072, 2, -1048543, 131072, 2, -1048544, 131072, 2, -1048545, 131072, 2, -1048546, 131072, 2, 983081, 131072, 4, 917545, 131072, 4, 852009, 0, 2, 786473, 196608, 4, 41, 131072, 1, -65495, 131072, 4, -131031, 131072, 1, -196567, 65536, 1, -262103, 131072, 4, -327639, 131072, 4, -393175, 131072, 4, -458711, 131072, 1, -524247, 131072, 4, -589783, 65536, 4, -655319, 131072, 4, -720855, 131072, 4, -786391, 65536, 1, -851927, 131072, 4, -917463, 131072, 4, -982999, 131072, 4, 983080, 131072, 1, 983079, 131072, 4, -131042, 196608, 2, -131043, 131072, 2, -131044, 131072, 2, 131110, 65536, 3, 131111, 131072, 3, 131112, 196608, 1, 720933, 65536, 2, 720934, 131072, 2, 786471, 65536, 5, 786472, 131072, 4, 720935, 131072, 3, -720861, 65536, 3, -720860, 131072, 3, -720859, 131072, 3, -720858, 131072, 3, -720857, 131072, 0, -720856, 131072, 3, 262151, 196608, 0, 655397, 1, 65536, 65574, 1, 65536, -196578, 1, 65536, 131094, 131072, 5, 131093, 131072, 2, 131095, 196608, 2, 65559, 196608, 0, 65558, 131072, 3, 65557, 131072, 0, 65556, 65536, 0, 131092, 65536, 2, 65548, 131072, 4, 12, 131072, 4, -65524, 131072, 4, -131060, 131072, 3, -131061, 65536, 0, -65525, 131072, 1, -65526, 65536, 3, 10, 65536, 2, 11, 131072, 1, 65547, 65536, 5, -131059, 196608, 3, -65523, 196608, 4, 131085, 131072, 5, 65549, 131072, 4, 13, 196608, 4, 131084, 65536, 5, 65550, 196608, 3, 131086, 131072, 4, 720913, 1, 65536, 851983, 1, 65536, 589838, 1, 65536, 196634, 65536, 1, 196635, 196608, 4, 262171, 196608, 4, 327707, 196608, 1, 393243, 131072, 4, 262170, 65536, 1, 327706, 131072, 1, 393242, 131072, 4, 458778, 131072, 4, 524314, 65536, 4, 524315, 131072, 1, 458779, 131072, 4, 393241, 131072, 4, 917527, 131072, 3, 983054, 131072, 4, 983053, 131072, 4, 983052, 131072, 1, 983051, 131072, 1, 983050, 131072, 4, 983049, 131072, 4, 262150, 65536, 3, 327686, 131072, 2, 327685, 131072, 2, -65532, 196608, 3, -589824, 196608, 1, -458752, 196608, 2, -589821, 1, 65536, -327658, 1, 65536, 458771, 131072, 5, 458772, 131072, 2, 327705, 65536, 3, 393240, 131072, 3, 393239, 131072, 0, 393238, 131072, 3, 393237, 131072, 0, 393236, 0, 0, 262169, 1, 65536, -393190, 65536, 0, -327654, 131072, 4, -327655, 0, 0, 2, 131072, 5, 3, 131072, 5, 4, 196608, 2, -131068, 1, 65536, -1048534, 131072, 1, -1048533, 131072, 5, -1048532, 131072, 2, -1048531, 131072, 2, -1048530, 131072, 5, -1048529, 131072, 5, -1048528, 131072, 2, -1048527, 131072, 5, -1048526, 131072, 2, -1048525, 131072, 5, -1048522, 196608, 2, 327733, 196608, 1, 393269, 196608, 4, 458805, 196608, 4, 524341, 131072, 1, 589877, 196608, 4, 655413, 196608, 4, 720949, 196608, 4, 917557, 196608, 4, 852021, 196608, 4, 786485, 196608, 1, 983093, 196608, 4, 196661, 196608, 4, 262197, 196608, 4, 196660, 65536, 4, 262196, 65536, 1, 327732, 65536, 4, 393268, 65536, 1, 458804, 65536, 4, 524340, 131072, 4, 589876, 131072, 4, 655412, 65536, 4, 720948, 65536, 1, 786484, 65536, 4, 852020, 65536, 4, 917556, 131072, 4, 983092, 131072, 1, 983082, 131072, 1, 983083, 131072, 4, 983084, 131072, 4, 983085, 131072, 4, 983086, 131072, 1, 983087, 131072, 1, 983088, 131072, 4, 983089, 131072, 4, 983090, 131072, 1, 983091, 131072, 1, 720936, 131072, 3, 720937, 196608, 3, -1114058, 196608, 3, -1114061, 131072, 0, -1114062, 131072, 0, -1114063, 131072, 0, -1114064, 131072, 3, -1114065, 131072, 0, -1114066, 131072, 0, -1114067, 131072, 3, -1114068, 131072, 3, -1114069, 131072, 0, -1114070, 131072, 3, -1114071, 131072, 0, -1114072, 131072, 3, -1114073, 131072, 3, -1114074, 131072, 3, -1114075, 131072, 3, -1114076, 131072, 3, -1114077, 131072, 3, -1114078, 131072, 0, -1114079, 131072, 0, -1114080, 131072, 3, -1114081, 131072, 3, -1114082, 131072, 3, -1114083, 131072, 3, -1114084, 131072, 0, -1114085, 131072, 3, -1114086, 131072, 3, -1114087, 131072, 3, -1114088, 131072, 3, -1114089, 131072, 3, -1114090, 131072, 3, -1114091, 131072, 0, -1114092, 131072, 3, -1114093, 131072, 3, -1114094, 131072, 3, -1114095, 131072, 3, -1114096, 131072, 0, -1114097, 131072, 3, -1114098, 131072, 3, -1114099, 131072, 3, -1114100, 131072, 3, -1114101, 131072, 3, -1114102, 131072, 3, -1114103, 131072, 0, -1114104, 131072, 0, -1114105, 131072, 3, -1114106, 131072, 3, -1114107, 131072, 3, -1114108, 131072, 3, -1114109, 131072, 0, -1114110, 131072, 3, -1114111, 131072, 3, -1114112, 131072, 0, 1048575, 65536, 4, 983039, 65536, 4, 917503, 65536, 4, 655359, 65536, 4, 589823, 65536, 1, 524287, 65536, 4, 458751, 65536, 1, 393215, 65536, 1, 327679, 65536, 4, 262143, 65536, 4, 196607, 65536, 4, 131071, 65536, 4, 65535, 65536, 4, -1, 65536, 3, -393217, 65536, 5, -458753, 65536, 1, -524289, 65536, 4, -589825, 65536, 4, -655361, 65536, 4, -720897, 65536, 1, -786433, 65536, 4, -851969, 65536, 4, -917505, 65536, 1, -983041, 65536, 4, -1048577, 65536, 3, 1048629, 196608, 5, 1048628, 131072, 5, 1048627, 131072, 5, 1048626, 131072, 5, 1048625, 131072, 2, 1048624, 131072, 2, 1048623, 131072, 5, 1048622, 131072, 5, 1048621, 131072, 5, 1048620, 131072, 2, 1048619, 131072, 5, 1048618, 131072, 5, 1048617, 131072, 2, 1048616, 131072, 5, 1048615, 131072, 5, 1048614, 131072, 5, 1048613, 131072, 2, 1048612, 131072, 2, 1048611, 131072, 5, 1048610, 131072, 5, 1048609, 131072, 5, 1048608, 131072, 5, 1048607, 131072, 2, 1048606, 131072, 5, 1048605, 131072, 2, 1048604, 131072, 5, 1048603, 131072, 5, 1048602, 131072, 2, 1048601, 131072, 5, 1048600, 131072, 5, 1048599, 131072, 5, 1048598, 131072, 5, 1048597, 131072, 2, 1048596, 131072, 2, 1048595, 131072, 5, 1048594, 131072, 5, 1048593, 131072, 2, 1048592, 131072, 5, 1048591, 131072, 5, 1048590, 131072, 5, 1048589, 131072, 2, 1048588, 131072, 5, 1048587, 131072, 5, 1048586, 131072, 5, 1048585, 131072, 5, 1048584, 131072, 5, 1048583, 131072, 2, 1048582, 131072, 2, 1048581, 131072, 5, 1048580, 131072, 2, 1048579, 131072, 5, 1048578, 131072, 2, 1048577, 131072, 5, 1048576, 131072, 5, 1114111, 65536, 5, 524335, 65536, 0, 524336, 131072, 3, 524337, 131072, 3, 524338, 131072, 0, 524339, 131072, 0, 589875, 131072, 2, 589874, 131072, 2, 589873, 131072, 5, 589872, 131072, 2, 589871, 65536, 5, 327724, 196608, 5, 262188, 196608, 0, 262187, 65536, 0, 327723, 65536, 5, 65585, 65536, 0, 65586, 131072, 0, 65587, 131072, 3, 131123, 131072, 5, 131122, 131072, 2, 131121, 65536, 2, -917462, 196608, 4, -851926, 196608, 1, -786390, 196608, 4, -720854, 196608, 1, -655318, 196608, 4, -589782, 196608, 4, -524246, 196608, 1, -458710, 196608, 4, -393174, 196608, 4, -327638, 196608, 4, -262102, 196608, 4, -196566, 196608, 1, -131030, 196608, 4, -65494, 196608, 4, 42, 196608, 5, -982998, 196608, 4, -655320, 131072, 5, -655321, 131072, 5, -655322, 131072, 2, -655323, 131072, 2, -655324, 131072, 5, -655325, 65536, 5, 196648, 196608, 5, 196647, 131072, 2, 196646, 65536, 2, 65576, 65536, 4, 458799, 1, 65536, 196651, 1, 65536, 65577, 196608, 5, 40, 65536, 4, -131032, 65536, 3, -65496, 65536, 4, 720895, 65536, 4, 655360, 131072, 4, 655361, 196608, 4, 720897, 196608, 4, 786433, 196608, 4, 786432, 131072, 4, 851967, 131072, 4, 786431, 65536, 4, 720896, 131072, 4, -720869, 131072, 2, -720870, 131072, 5, -720871, 131072, 2, -720872, 131072, 2, -720873, 131072, 5, -720874, 131072, 5, -720875, 131072, 5, -720876, 131072, 5, -720877, 65536, 2, 589852, 196608, 2, 458780, 196608, 4, 524316, 196608, 4, 393244, 131072, 0, 327708, 1, 65536, 196641, 65536, 0, 196642, 196608, 3, 262177, 65536, 5, 262178, 196608, 2, -196596, 1, 131072, -1114060, 131072, 3, -1048524, 131072, 4, -982988, 65536, 4, -917452, 65536, 4, -851916, 65536, 1, -786380, 65536, 4, -720844, 65536, 4, -655308, 65536, 1, -589772, 65536, 4, -524236, 65536, 4, -458700, 65536, 5, -65484, 65536, 3, 52, 65536, 1, 65588, 131072, 4, 131124, 131072, 4, -1114059, 131072, 3, -1048523, 131072, 4, -982987, 196608, 4, -917451, 196608, 4, -851915, 196608, 4, -786379, 196608, 4, -720843, 196608, 4, -655307, 196608, 1, -589771, 196608, 4, -524235, 196608, 4, -458699, 196608, 5, -65483, 196608, 0, 53, 131072, 4, 65589, 196608, 4, 131125, 196608, 4, 917520, 131072, 0, 917521, 131072, 3, 917522, 131072, 0, 917523, 131072, 3, 917524, 131072, 3, 917525, 131072, 0, 917526, 131072, 3, 917532, 131072, 3, 917533, 131072, 0, 917534, 131072, 3, 917549, 131072, 3, 917537, 131072, 0, 917535, 131072, 0, 917536, 131072, 0, 917538, 131072, 3, 917539, 131072, 0, 917540, 131072, 3, 917541, 131072, 3, 917542, 131072, 3, 917543, 131072, 3, 917544, 131072, 3, 917546, 131072, 0, 917547, 131072, 3, 917548, 131072, 3, 917550, 131072, 3, 917551, 131072, 0, 917552, 131072, 3, 917553, 131072, 3, 917554, 131072, 0, 917555, 131072, 0, 852013, 1, 65536, 393245, 393216, 5, 852003, 1, 65536)

[node name="Mushroom" parent="." instance=ExtResource("3_8l680")]
position = Vector2(280, 739)

[node name="VeryBouncyShroom" parent="." instance=ExtResource("4_6snln")]
position = Vector2(528, 544)

[node name="UpsideDownShroom" parent="." instance=ExtResource("4_6snln")]
position = Vector2(464, 637)
direction = 2

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.325484, 0.28866, 0.205512, 1)

[node name="FireflyParticles" type="GPUParticles2D" parent="."]
light_mask = 0
material = SubResource("CanvasItemMaterial_vkv67")
position = Vector2(672, 504)
amount = 40
process_material = SubResource("ParticleProcessMaterial_3f14b")
texture = SubResource("GradientTexture2D_2dq2h")
lifetime = 10.0
visibility_rect = Rect2(-672, -504, 1344, 1008)

[connection signal="body_entered" from="TileMap/SavePoint" to="TileMap/SavePoint" method="_on_body_entered"]
