[gd_scene load_steps=8 format=3 uid="uid://duvopux44jxvc"]

[ext_resource type="Script" path="res://maps/scripts/jungle_sky1_boss.gd" id="1_ce3a5"]
[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="1_iwset"]
[ext_resource type="TileSet" uid="uid://5qspssasjso2" path="res://resources/forest_tileset.tres" id="2_njjpm"]
[ext_resource type="PackedScene" uid="uid://c3tru5icecrvc" path="res://scenes/enemies/dragon/dragon.tscn" id="4_ovj6v"]
[ext_resource type="Script" path="res://scripts/dialogue_area.gd" id="5_tf053"]
[ext_resource type="PackedScene" uid="uid://1p213nolkkp0" path="res://scenes/ui/credits.tscn" id="6_lx7ao"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uucma"]
size = Vector2(888, 536)

[node name="Map" type="Node2D"]
script = ExtResource("1_ce3a5")
music_file = "res://music/boss_music.ogg"
drums_file = ""

[node name="Dragon" parent="." instance=ExtResource("4_ovj6v")]
position = Vector2(584, 1360)
max_health = 60.0
is_upgraded = true

[node name="RoomInstance" parent="." instance=ExtResource("1_iwset")]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("2_njjpm")
format = 2
layer_0/name = "Ground"
layer_0/tile_data = PackedInt32Array(2883584, 0, 3, 2818048, 262144, 3, 2752512, 262144, 3, 2686976, 0, 2, 2621440, 0, 2, 2555904, 262144, 3, 2490368, 262144, 3, 2424832, 0, 2, 2359296, 262144, 3, 2293760, 262144, 3, 2228224, 0, 2, 2162688, 0, 2, 2097152, 0, 2, 2031616, 262144, 3, 1966080, 0, 2, 1900544, 0, 2, 1835008, 0, 2, 1769472, 0, 2, 1703936, 262144, 3, 1638400, 262144, 3, 1572864, 262144, 3, 1507328, 262144, 3, 1441792, 262144, 3, 1376256, 262144, 3, 1310720, 0, 2, 1245184, 0, 2, 1179648, 262144, 3, 1114112, 262144, 3, 1048576, 262144, 3, 983040, 262144, 3, 2883672, 327680, 5, 2883671, 393216, 4, 2883670, 393216, 4, 2883669, 327680, 5, 2883668, 327680, 5, 2883667, 393216, 4, 2883666, 393216, 4, 2883665, 393216, 4, 2883664, 327680, 5, 2883663, 327680, 5, 2883662, 327680, 5, 2883661, 393216, 4, 2883660, 393216, 4, 2883659, 393216, 4, 2883658, 393216, 4, 2883657, 327680, 5, 2883656, 327680, 5, 2883655, 327680, 5, 2883654, 327680, 5, 2883653, 327680, 5, 2883652, 393216, 4, 2883651, 393216, 4, 2883650, 327680, 5, 2883649, 327680, 5, 2883648, 327680, 5, 2883647, 393216, 4, 2883646, 393216, 4, 2883645, 327680, 5, 2883644, 393216, 4, 2883643, 393216, 4, 2883642, 327680, 5, 2883641, 393216, 4, 2883640, 393216, 4, 2883639, 327680, 5, 2883638, 393216, 4, 2883637, 327680, 5, 2883636, 327680, 5, 2883635, 393216, 4, 2883634, 327680, 5, 2883633, 327680, 5, 2883632, 327680, 5, 2883631, 393216, 4, 2883630, 393216, 4, 2883629, 393216, 4, 2883628, 327680, 5, 2883627, 393216, 4, 2883626, 393216, 4, 2883625, 393216, 4, 2883624, 393216, 4, 2883623, 393216, 4, 2883622, 327680, 5, 2883621, 327680, 5, 2883620, 327680, 5, 2883619, 393216, 4, 2883618, 393216, 4, 2883617, 327680, 5, 2883616, 327680, 5, 2883615, 393216, 4, 2883614, 393216, 4, 2883613, 393216, 4, 2883612, 393216, 4, 2883611, 262144, 5, 2883691, 262144, 4, 2818155, 0, 2, 2752619, 0, 2, 2687083, 262144, 3, 2621547, 262144, 3, 2556011, 262144, 3, 2490475, 0, 2, 2424939, 262144, 3, 2359403, 262144, 3, 2293867, 0, 2, 2228331, 262144, 3, 2162795, 262144, 3, 2097259, 262144, 3, 2031723, 262144, 3, 1966187, 0, 2, 2883690, 393216, 4, 2883689, 393216, 4, 2883688, 327680, 5, 2883687, 327680, 5, 2883686, 393216, 4, 2883685, 327680, 5, 2883684, 327680, 5, 2883683, 327680, 5, 2883682, 393216, 4, 2883681, 393216, 4, 2883680, 327680, 5, 2883679, 393216, 4, 2883678, 327680, 5, 2883677, 393216, 4, 2883676, 393216, 4, 2883675, 327680, 5, 2883674, 327680, 5, 2883673, 327680, 5, 917611, 0, 2, 852075, 262144, 3, 786539, 0, 2, 721003, 0, 2, 655467, 262144, 3, 589931, 0, 2, 524395, 262144, 3, 458859, 0, 2, 393323, 0, 2, 327787, 262144, 3, 262251, 262144, 3, 196715, 0, 2, 131179, 0, 2, 65643, 0, 2, 107, 0, 1, 106, 327680, 5, 105, 327680, 5, 104, 327680, 5, 103, 327680, 5, 102, 393216, 4, 101, 393216, 4, 100, 327680, 5, 99, 393216, 4, 98, 393216, 4, 97, 327680, 5, 96, 327680, 5, 95, 327680, 5, 94, 393216, 4, 93, 393216, 4, 92, 327680, 5, 91, 393216, 4, 90, 393216, 4, 89, 393216, 4, 88, 393216, 4, 87, 393216, 4, 86, 327680, 5, 85, 327680, 5, 84, 393216, 4, 83, 393216, 4, 82, 393216, 4, 81, 393216, 4, 80, 393216, 4, 79, 393216, 4, 78, 327680, 5, 77, 327680, 5, 76, 393216, 4, 75, 327680, 5, 74, 327680, 5, 73, 393216, 4, 72, 393216, 4, 71, 327680, 5, 70, 327680, 5, 69, 327680, 5, 68, 327680, 5, 67, 393216, 4, 66, 393216, 4, 65, 327680, 5, 64, 393216, 4, 63, 327680, 5, 62, 393216, 4, 61, 393216, 4, 60, 327680, 5, 59, 327680, 5, 58, 393216, 4, 57, 327680, 5, 56, 327680, 5, 55, 327680, 5, 54, 327680, 5, 53, 327680, 5, 52, 327680, 5, 51, 393216, 4, 50, 327680, 5, 49, 393216, 4, 48, 327680, 5, 47, 393216, 4, 46, 327680, 5, 45, 327680, 5, 44, 393216, 4, 43, 327680, 5, 42, 327680, 5, 41, 393216, 4, 40, 327680, 5, 39, 393216, 4, 38, 327680, 5, 37, 327680, 5, 36, 327680, 5, 35, 393216, 4, 34, 327680, 5, 33, 393216, 4, 32, 393216, 4, 31, 327680, 5, 30, 327680, 5, 29, 393216, 4, 28, 327680, 5, 27, 393216, 4, 26, 393216, 4, 25, 327680, 5, 24, 327680, 5, 23, 327680, 5, 22, 393216, 4, 21, 393216, 4, 20, 327680, 5, 19, 393216, 4, 18, 393216, 4, 17, 393216, 4, 16, 327680, 5, 15, 327680, 5, 14, 393216, 4, 13, 327680, 5, 12, 327680, 5, 11, 393216, 4, 10, 327680, 5, 9, 327680, 5, 8, 327680, 5, 7, 327680, 5, 6, 327680, 5, 5, 393216, 4, 4, 393216, 4, 3, 327680, 5, 2, 393216, 4, 1, 327680, 5, 0, 327680, 4, 917504, 262144, 3, 851968, 262144, 3, 786432, 262144, 3, 720896, 262144, 3, 655360, 0, 2, 589824, 262144, 3, 524288, 0, 2, 458752, 262144, 3, 393216, 0, 2, 327680, 262144, 3, 262144, 0, 2, 196608, 0, 2, 131072, 0, 2, 65536, 262144, 3, 1900651, 0, 2, 1835115, 262144, 3, 1769579, 0, 2, 1704043, 262144, 3, 1638507, 262144, 3, 1572971, 0, 2, 1507435, 262144, 3, 1441899, 262144, 3, 1376363, 262144, 3, 1310827, 262144, 3, 1245291, 0, 2, 1179755, 0, 2, 1114219, 262144, 3, 1048683, 0, 2, 983147, 262144, 3, 2883610, 589824, 2, 2883609, 589824, 1, 2883608, 589824, 1, 2883607, 589824, 1, 2883606, 589824, 1, 2883605, 589824, 1, 2883604, 589824, 1, 2883603, 589824, 1, 2883602, 589824, 1, 2883601, 589824, 1, 2883600, 589824, 1, 2883599, 589824, 1, 2883598, 589824, 1, 2883597, 589824, 1, 2883596, 589824, 1, 2883595, 589824, 1, 2883594, 589824, 1, 2883593, 589824, 1, 2883592, 589824, 1, 2883591, 589824, 1, 2883590, 589824, 1, 2883589, 589824, 1, 2883588, 589824, 1, 2883587, 589824, 1, 2883586, 589824, 1, 2883585, 589824, 3)
layer_1/name = "Vines"
layer_1/z_index = -1
layer_1/tile_data = PackedInt32Array()
layer_2/name = "ClosedWall"
layer_2/enabled = false
layer_2/tile_data = PackedInt32Array(2883612, 393216, 4, 2883611, 393216, 4, 2883610, 393216, 4, 2883609, 327680, 5, 2883608, 327680, 5, 2883607, 393216, 4, 2883606, 393216, 4, 2883605, 327680, 5, 2883604, 327680, 5, 2883603, 327680, 5, 2883602, 327680, 5, 2883601, 393216, 4, 2883600, 327680, 5, 2883599, 327680, 5, 2883598, 327680, 5, 2883597, 327680, 5, 2883596, 327680, 5, 2883595, 393216, 4, 2883594, 327680, 5, 2883593, 393216, 4, 2883592, 393216, 4, 2883591, 327680, 5, 2883590, 393216, 4, 2883589, 327680, 5, 2883588, 327680, 5, 2883587, 327680, 5, 2883586, 327680, 5, 2883585, 131072, 0, 2883584, 131072, 1)

[node name="SpawnMarker" type="Marker2D" parent="."]
position = Vector2(448, 1344)

[node name="DialogueArea" type="Area2D" parent="."]
position = Vector2(280, 1376)
collision_layer = 0
collision_mask = 2
script = ExtResource("5_tf053")
dialogue_file = "res://dialogue/boss_sky.dialogue"

[node name="CollisionShape2D" type="CollisionShape2D" parent="DialogueArea"]
position = Vector2(196, -236)
shape = SubResource("RectangleShape2D_uucma")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 100

[node name="Credits" parent="CanvasLayer" instance=ExtResource("6_lx7ao")]
mouse_filter = 2
enable_fade_out = false

[connection signal="death" from="Dragon" to="." method="_on_dragon_death"]
[connection signal="body_entered" from="DialogueArea" to="DialogueArea" method="_on_body_entered"]
[connection signal="finished" from="CanvasLayer/Credits" to="." method="_on_credits_finished"]
